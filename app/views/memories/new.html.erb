<h1>Add a New Memory</h1>

<%= form_for @memory do |f| %>
    <h3><%= f.label :title %> <%= f.text_field :title %><br></h3><br>

    <%= f.text_area :content, cols: "38", rows: "10", placeholder: "Enter Content here: "%><br><br>

    <% if !@emotions.empty? %>
      <label><h3>Choose an Emotion(s):</h3></label>
      <% @emotions.each do |emotion| %>
        <li><input type="checkbox" name="emotions[]" id="<%= emotion.name %>" value="<%= emotion.id %>"> <%= emotion.name.capitalize %></input  ></li>
      <% end %><br>
      <h4>Create a New Emotion: <input type="text" id="new_emotion" name="emotion[name]"></h4><br>
    <% else %>
      <h2><%= current_user.username.capitalize %>, add your first Emotion below:</h2>
      <h4>Create a New Emotion <input type="text" id="new_emotion" name="emotion[name]"></h4><br>
    <% end %>

    <% if !@players.empty? %>
      <label><h3>Choose a Person/Pet(s):</h3></label>
      <% @players.each do |player| %>
      <li><input type="checkbox" name="players[]" id="<%= player.name %>" value="<%= player.id %>"> <%= player.name.split.map(&:capitalize).join(' ')
   %></input></li>
      <% end %><br>
      <h4>Add a New Person/Pet <input type="text" id="new_player" name="player[name]"></h4><br>
    <% else %>
      <h2><%= current_user.username.capitalize %>, add your first Person/Pet or your Name below:</h2>
      <h4>Add a New Person/Pet: <input type="text" id="new_player" name="player[name]"></h4><br>
    <% end %>
  
    <%= f.submit "Bottle Your Memory" %>
      
  <% end %>